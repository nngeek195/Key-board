// sinhala-splitter.js ලෝ

const sinhalaToFontMap = {
    ",": "￦",
    "\.": "¡",
    "\(": "￫",
    "\)": "￩",
    "%": "ￕ",
    "\/": "$",
    "–": "ￔ",
    "\?": "ￓ",
    "!": "ￒ",
    "\=": "ￏ",
    "\'": "ￎ",
    "\+": "ￍ",
    "\:": "ￌ",
    "\÷": "ￋ",
    "\;": "ﾶ",
    "ත්‍රෛ": "ff;%",
    "ශෛ": "ffY",
    "චෛ": "ffp",
    "ජෛ": "ffc",
    "කෛ": "ffl",
    "මෛ": "ffu",
    "පෛ": "ffm",
    "දෛ": "ffo",
    "තෛ": "ff;",
    "නෛ": "ffk",
    "ධෛ": "ffO",
    "වෛ": "ffj",
    "ප්‍රෞ": "fm%!",
    "ෂ්‍යෝ": "fIHda",
    "ඡ්‍යෝ": "fPHda",
    "ඪ්‍යෝ": "fVHda",
    "ඝ්‍යෝ": "f>Hda",
    "ඛ්‍යෝ": "fLHda",
    "ළ්‍යෝ": "f<Hda",
    "ඵ්‍යෝ": "fMHda",
    "ඨ්‍යෝ": "fGHda",
    "ශ්‍යෝ": "fYHda",
    "ක්‍ෂ්‍යෝ": "fÌHda",
    "බ්‍යෝ": "fnHda",
    "ච්‍යෝ": "fpHda",
    "ඩ්‍යෝ": "fâHda",
    "ෆ්‍යෝ": "f*Hda",
    "ග්‍යෝ": "f.Hda",
    "ජ්‍යෝ": "fcHda",
    "ක්‍යෝ": "flHda",
    "ල්‍යෝ": "f,Hda",
    "ම්‍යෝ": "fuHda",
    "න්‍යෝ": "fkHda",
    "ප්‍යෝ": "fmHda",
    "ද්‍යෝ": "foHda",
    "ස්‍යෝ": "fiHda",
    "ට්‍යෝ": "fgHda",
    "ව්‍යෝ": "fjHda",
    "ත්‍යෝ": "f;Hda",
    "භ්‍යෝ": "fNHda",
    "ධ්‍යෝ": "fOHda",
    "ථ්‍යෝ": "f:Hda",
    "ෂ්‍යො": "fIHd",
    "ශ්‍යො": "fYHd",
    "ඛ්‍යො": "fLHd",
    "ක්‍ෂ්‍යො": "fÌHd",
    "බ්‍යො": "fnHd",
    "ව්‍යො": "fjHd",
    "ඩ්‍යො": "fvHd",
    "ෆ්‍යො": "f*Hd",
    "ග්‍යො": "f.Hd",
    "ජ්‍යො": "fcHd",
    "ක්‍යො": "flHd",
    "ම්‍යො": "fuHd",
    "ප්‍යො": "fmHd",
    "ද්‍යො": "foHd",
    "ස්‍යො": "fiHd",
    "ට්‍යො": "fgHd",
    "ව්‍යො": "fjHd",
    "ත්‍යො": "f;Hd",
    "භ්‍යො": "fNHd",
    "ධ්‍යො": "fOHd",
    "ථ්‍යො": "f:Hd",
    "ෂ්‍යෙ": "fIH",
    "ඡ්‍යෙ": "fPH",
    "ළ්‍යෙ": "f<H",
    "ණ්‍යෙ": "fKH",
    "ච්‍යෙ": "fpH",
    "ල්‍යෙ": "f,H",
    "න්‍යෙ": "fkH",
    "ශ්‍යෙ": "fYH",
    "ඛ්‍යෙ": "fLH",
    "ක්‍ෂ්යෙ": "fÌH",
    "බ්‍යෙ": "fnH",
    "ඩ්‍යෙ": "fvH",
    "ෆ්‍යෙ": "f*H",
    "ග්‍යෙ": "f.H",
    "ජ්‍යෙ": "fcH",
    "ක්‍යෙ": "flH",
    "ම්‍යෙ": "fuH",
    "ප්‍යෙ": "fmH",
    "ද්‍යෙ": "foH",
    "ස්‍යෙ": "fiH",
    "ට්‍යෙ": "fgH",
    "ව්‍යෙ": "fjH",
    "ත්‍යෙ": "f;H",
    "භ්‍යෙ": "fNH",
    "ධ්‍යෙ": "fOH",
    "ථ්‍යෙ": "f:H",
    "ෂ්‍රෝ": "fI%da",
    "ඝ්‍රෝ": "f>%da",
    "ශ්‍රෝ": "fY%da",
    "ක්‍ෂ්‍රෝ": "fÌ%da",
    "බ්‍රෝ": "fn%da",
    "ඩ්‍රෝ": "fv%da",
    "ෆ්‍රෝ": "f*%da",
    "ග්‍රෝ": "f.%da",
    "ක්‍රෝ": "fl%da",
    "ප්‍රෝ": "fm%da",
    "ද්‍රෝ": "føda",
    "ස්‍රෝ": "fi%da",
    "ට්‍රෝ": "fg%da",
    "ත්‍රෝ": "f;%da",
    "ශ්‍රො": "fY%d",
    "ඩ්‍රො": "fv%d",
    "ෆ්‍රො": "f*%d",
    "ග්‍රො": "f.%d",
    "ක්‍රො": "fl%d",
    "ප්‍රො": "fm%d",
    "ද්‍රො": "fød",
    "ස්‍රො": "fi%d",
    "ට්‍රො": "fg%d",
    "ත්‍රො": "f;%d",
    "ශ්‍රේ": "fYa%",
    "බ්‍රේ": "fí%",
    "ඩ්‍රේ": "fâ%",
    "ෆ්‍රේ": "f*a%",
    "ග්‍රේ": "f.a%",
    "ක්‍රේ": "fla%",
    "ප්‍රේ": "fma%",
    "ද්‍රේ": "føa",
    "ස්‍රේ": "fia%",
    "ත්‍රේ": "f;a%",
    "ධ්‍රේ": "fè%",
    "ෂ්‍රෙ": "fI%",
    "ශ්‍රෙ": "fY%",
    "බ්‍රෙ": "fn%",
    "ෆ්‍රෙ": "f*%",
    "ග්‍රෙ": "f.%",
    "ක්‍රෙ": "fl%",
    "ප්‍රෙ": "fm%",
    "ද්‍රෙ": "fø",
    "ස්‍රෙ": "fi%",
    "ත්‍රෙ": "f;%",
    "භ්‍රෙ": "fN%",
    "ධ්‍රෙ": "fO%",
    "ය": "H",
    "ර": "%",
    "ෂෞ": "fI!",
    "ඡෞ": "fP!",
    "ශෞ": "fY!",
    "බෞ": "fn!",
    "චෞ": "fp!",
    "ඩෞ": "fv!",
    "ෆෞ": "f*!",
    "ගෞ": "f.!",
    "ජෞ": "fc!",
    "කෞ": "fl!",
    "ලෞ": "f,!",
    "මෞ": "fu!",
    "නෞ": "fk!",
    "පෞ": "fm!",
    "දෞ": "fo!",
    "රෞ": "fr!",
    "සෞ": "fi!",
    "ටෞ": "fg!",
    "තෞ": "f;!",
    "භෞ": "fN!",
    "ඤෞ": "f[!",
    "ෂෝ": "fIda",
    "ඹෝ": "fUda",
    "ඡෝ": "fPda",
    "ඪෝ": "fVda",
    "ඝෝ": "f>da",
    "ඛෝ": "fLda",
    "ළෝ": "f<da",
    "ඟෝ": "fÕda",
    "ණෝ": "fKda",
    "ඵෝ": "fMda",
    "ඨෝ": "fGda",
    "ඬෝ": "fËda",
    "ශෝ": "fYda",
    "ඥෝ": "f{da",
    "ඳෝ": "f|da",
    "ක්‍ෂෝ": "fÌda",
    "බෝ": "fnda",
    "චෝ": "fpda",
    "ඩෝ": "fvda",
    "ෆෝ": "f*da",
    "ගෝ": "f.da",
    "හෝ": "fyda",
    "ජෝ": "fcda",
    "කෝ": "flda",
    "ලෝ": "f,da",
    "මෝ": "fuda",
    "නෝ": "fkda",
    "පෝ": "fmda",
    "දෝ": "foda",
    "රෝ": "frda",
    "සෝ": "fida",
    "ටෝ": "fgda",
    "වෝ": "fjda",
    "තෝ": "f;da",
    "භෝ": "fNda",
    "යෝ": "fhda",
    "ඤෝ": "f[da",
    "ධෝ": "fOda",
    "ථෝ": "f:da",
    "ෂො": "fId",
    "ඹො": "fUd",
    "ඡො": "fPd",
    "ඪො": "fVd",
    "ඝො": "f>d",
    "ඛො": "fLd",
    "ළො": "f<d",
    "ඟො": "fÕd",
    "ණො": "fKd",
    "ඵො": "fMd",
    "ඨො": "fGd",
    "ඬො": "fËd",
    "ශො": "fYd",
    "ඥො": "f{d",
    "ඳො": "f|d",
    "ක්‍ෂො": "fÌd",
    "බො": "fnd",
    "චො": "fpd",
    "ඩො": "fvd",
    "ෆො": "f*d",
    "ගො": "f.d",
    "හො": "fyd",
    "ජො": "fcd",
    "කො": "fld",
    "ලො": "f,d",
    "මො": "fud",
    "නො": "fkd",
    "පො": "fmd",
    "දො": "fod",
    "රො": "frd",
    "සො": "fid",
    "ටො": "fgd",
    "වො": "fjd",
    "තො": "f;d",
    "භො": "fNd",
    "යො": "fhd",
    "ඤො": "f[d",
    "ධො": "fOd",
    "ථො": "f:d",
    "ෂේ": "fIa",
    "ඹේ": "fò",
    "ඡේ": "fþ",
    "ඪේ": "fa",
    "ඝේ": "f>a",
    "ඛේ": "fÄ",
    "ළේ": "f<a",
    "ඟේ": "fÕa",
    "ණේ": "fKa",
    "ඵේ": "fMa",
    "ඨේ": "fGa",
    "ඬේ": "få",
    "ශේ": "fYa",
    "ඥේ": "f{a",
    "ඳේ": "f|a",
    "ක්‍ෂේ": "fÌa",
    "බේ": "fí",
    "චේ": "fÉ",
    "ඩේ": "fâ",
    "ෆේ": "f*",
    "ගේ": "f.a",
    "හේ": "fya",
    "පේ": "fma",
    "කේ": "fla",
    "ලේ": "f,a",
    "මේ": "fï",
    "නේ": "fka",
    "ජේ": "f–",
    "දේ": "foa",
    "රේ": "f¾",
    "සේ": "fia",
    "ටේ": "fÜ",
    "වේ": "fõ",
    "තේ": "f;a",
    "භේ": "fNa",
    "යේ": "fha",
    "ඤේ": "f[a",
    "ධේ": "fè",
    "ථේ": "f:a",
    "ෂෙ": "fI",
    "ඹෙ": "fU",
    "ඓ": "ft",
    "ඡෙ": "fP",
    "ඪෙ": "fV",
    "ඥා": "}d",
    "ඝෙ": "f>",
    "ඛෙ": "fn",
    "ළෙ": "f<",
    "ඟෙ": "fÕ",
    "ණෙ": "fK",
    "ඵෙ": "fM",
    "ඨෙ": "fG",
    "ඬෙ": "fË",
    "ශෙ": "fY",
    "ඥෙ": "f{",
    "ඳෙ": "fË",
    "ක්‍ෂෙ": "fÌ",
    "බෙ": "fn",
    "චෙ": "fp",
    "ඩෙ": "fv",
    "ෆෙ": "f*",
    "ගෙ": "f.",
    "හෙ": "fy",
    "ජෙ": "fc",
    "කෙ": "fl",
    "ලෙ": "f,",
    "මෙ": "fu",
    "නෙ": "fk",
    "පෙ": "fm",
    "දෙ": "fo",
    "රෙ": "fr",
    "සෙ": "fi",
    "ටෙ": "fg",
    "වෙ": "fj",
    "තෙ": "f;",
    "භෙ": "fN",
    "යෙ": "fh",
    "ඤෙ": "f[",
    "ධෙ": "fO",
    "ථෙ": "f:",
    "තු": ";=",
    "ගු": ".=",
    "කු": "l=",
    "තූ": ";+",
    "ගූ": ".+",
    "කූ": "l+",
    "රු": "re",
    "රූ": "rE",
    "ආ": "wd",
    "ඇ": "we",
    "ඈ": "wE",
    "ඌ": "W!",
    "ඖ": "T!",
    "ඒ": "ta",
    "ඕ": "´",
    "ඳි": "¢",
    "ඳී": "£",
    "දූ": "¥",
    "දී": "§",
    "ලූ": "Æ",
    "ර්‍ය": "©",
    "ඳූ": "ª",
    "ර්": "¾",
    "ඨි": "À",
    "ඨී": "Á",
    "ඡී": "Â",
    "ඛ්": "Ä",
    "ඛි": "Å",
    "ලු": "¨",
    "ඛී": "Ç",
    "දි": "È",
    "ච්": "É",
    "ජ්": "Ê",
    "රී": "Í",
    "ඪී": "Î",
    "ඪී": "Ð,",
    "චි": "Ñ",
    "ථී": "Ò",
    "ථී": "Ó",
    "ජී": "Ô",
    "චී": "Ö",
    "ඞ්": "Ù",
    "ඵී": "Ú",
    "ට්": "Ü",
    "ඵි": "Ý",
    "රි": "ß",
    "ටී": "à",
    "ටි": "á",
    "ඩ්": "â",
    "ඩී": "ã",
    "ඩි": "ä",
    "ඬ්": "å",
    "ඬි": "ç",
    "ධ්": "è",
    "ඬී": "é",
    "ධි": "ê",
    "ධී": "ë",
    "බි": "ì",
    "බ්": "í",
    "බී": "î",
    "ම්": "ï",
    "ජි": "ð",
    "මි": "ñ",
    "ඹ්": "ò",
    "මී": "ó",
    "ඹි": "ô",
    "ව්": "õ",
    "ඹී": "ö",
    "ඳු": "÷",
    "ද්‍ර": "ø",
    "වී": "ù",
    "වි": "ú",
    "ඞ්": "û",
    "ඞී": "ü",
    "ඡි": "ý",
    "ඡ්": "þ",
    "දු": "ÿ",
    "ජ්": "–",
    "ර්‍ණ": "“",
    "ණී": "KS",
    "ජී": "„",
    "ඡි": "‰",
    "ඩි": "",
    "ඤු": "™",
    "ග": ".",
    "ළු": "¿",
    "ෂ": "I",
    "": "x",
    "": "#",
    "ඹ": "U",
    "ඡ": "P",
    "ඪ": "V",
    "ඝ": ">",
    "ඊ": "B",
    "ඣ": "CO",
    "ඛ": "L",
    "ළ": "<",
    "ඟ": "Õ",
    "ණ": "K",
    "ඵ": "M",
    "ඨ": "G",
    "": "#",
    "\"": ",",
    "\/": "$",
    "\)": "&",
    ":": "(",
    "ෆ": "*",
    "ල": ",",
    "-": "-",
    "රැ": "/",
    "ථ": ":",
    "ත": ";",
    "ළ": "<",
    "ඝ": ">",
    "රෑ": "?",
    "ඊ": "B",
    "ක‍": "C",
    "‍ෘ": "D",
    "": "E",
    "ත‍": "F",
    "ඨ": "G",
    "ය": "H",
    "ෂ": "I",
    "න‍": "J",
    "ණ": "K",
    "ඛ": "L",
    "ඵ": "M",
    "භ": "N",
    "ධ": "O",
    "ඡ": "P",
    "ඍ": "R",
    "ඔ": "T",
    "ඹ": "U",
    "ඪ": "V",
    "උ": "W",
    "ශ": "Y",
    "ඤ": "[",
    "ඉ": "b",
    "ජ": "c",
    "ට": "g",
    "ය": "h",
    "ස": "i",
    "ව": "j",
    "න": "k",
    "ක": "l",
    "ප": "m",
    "බ": "n",
    "ද": "o",
    "ච": "p",
    "ර": "r",
    "එ": "t",
    "ම": "u",
    "ඩ": "v",
    "අ": "w",
    "හ": "y",
    "ඥ": "{",
    "ඳ": "|",
    "ක්‍ෂ": "Ì",
    "": "e",
    "": "E",
    "": "f",
    "": "q",
    "": "s",
    "": "Q",
    "": "S",
    "": "D",
    "": "DD",
    "": "!",
    "": "d",
    "": "a",
    "￦": '"',
    "￫": "^",
    "￩": "&",
    "ￔ": "‐`",
    "ￓ": "@",
    "ￒ": "æ",
    "ￏ": "}",
    "ￎ": "~",
    "\ￍ": "¤",
    "\ￌ": "•",
    "\ￊ": "›",
    "\ﾶ": "∙",
    "ￕ": "]",
    "ය්": "ha",
    "ප්": "ma",
    "ල්": ",a",
    "ක්": "la",
    "හ්": "ya",
    "ග්": ".a",
    "ෆ්": "*a",
    "ස්": "ia",
    "න්": "ka",
    "ම්": " ï",
    "ශ්": "Ya",
    "ශ්‍රි": "Y%s",
    "ශ්‍රී": "Y%S",

    "ආ": "wd",
    "ඇ": "we",
    "ඈ": "wE",
    "ඉ": "b",
    "ඊ": "B",
    "උ": "W",
    "ඌ": "W!",
    "ඍ": "R",
    "අ": "w",
    "එ": "t",
    "ඒ": "ta",
    "ඔ": "T",
    "ඕ": "´",
    "ඓ": "ft",
    "ඖ": "T!",
    "ක": "l",
    "ඛ": "L",
    "ග": ".",
    "ඝ": ">",
    "ඞ": "ඞ",
    "ච": "p",
    "ඡ": "P",
    "ජ": "c",
    "ඣ": "CO",
    "ඤ": "[",
    "ට": "g",
    "ඨ": "G",
    "ඩ": "v",
    "ඪ": "V",
    "ණ": "K",
    "ත": ";",
    "ථ": ":",
    "ද": "o",
    "ධ": "O",
    "න": "k",
    "ප": "m",
    "ඵ": "M",
    "බ": "n",
    "භ": "N",
    "ම": "u",
    "ය": "h",
    "ර": "r",
    "ල": ",",
    "ව": "j",
    "ශ": "Y",
    "ෂ": "I",
    "ස": "i",
    "හ": "y",
    "ළ": "<",
    "ක්": "la",
    "ඛ්": "Ä",
    "ග්": ".a",
    "ඝ්": ">a",
    "ඞ්": "Ù",
    "ච්": "É",
    "ඡ්": "þ",
    "ජ්": "Ê",
    "ඣ්": "COa",
    "ඤ්": "[a",
    "ට්": "Ü",
    "ඨ්": "Ga",
    "ඩ්": "â",
    "ඪ්": "Va",
    "ණ්": "Ka",
    "ත්": ";a",
    "ථ්": ":a",
    "ද්": "oa",
    "ධ්": "è",
    "න්": "ka",
    "ප්": "ma",
    "ඵ්": "Ma",
    "බ්": "í",
    "භ්": "Na",
    "ම්": "ï",
    "ය්": "ha",
    "ර්": "¾",
    "ල්": ",a",
    "ව්": "õ",
    "ශ්": "Ya",
    "ෂ්": "Ia",
    "ස්": "ia",
    "හ්": "ya",
    "ළ්": "<a",
    "ක ": "l ",
    "කා": "ld",
    "කැ": "le",
    "කෑ": "lE",
    "කි": "ls",
    "කී": "lS",
    "කු": "l=",
    "කූ": "l+",
    "කෘ": "lD",
    "කෲ": "lDD",
    "කෙ": "fl",
    "කේ": "fla",
    "කො": "fld",
    "කෝ": "flda",
    "කෛ": "ffl",
    "කෞ": "fl!",
    "කං": "lx",
    "ග ": ". ",
    "ගා": ".d",
    "ගැ": ".e",
    "ගෑ": ".E",
    "ගි": ".s",
    "ගී": ".S",
    "ගු": ".=",
    "ගූ": ".+",
    "ගෘ": ".D",
    "ගෲ": ".DD",
    "ගෙ": "f.",
    "ගේ": "f.a",
    "ගො": "f.d",
    "ගෝ": "f.da",
    "ගෛ": "ff.",
    "ගෞ": "f.!",
    "ගං": ".x",
    "ච ": "p ",
    "චා": "pd",
    "චැ": "pe",
    "චෑ": "pE",
    "චි": "Ñ",
    "චී": "Ö",
    "චු": "pq",
    "චූ": "pQ",
    "චෘ": "pD",
    "චෲ": "pDD",
    "චෙ": "fp",
    "චේ": "fÉ",
    "චො": "fpd",
    "චෝ": "fpda",
    "චෛ": "ffp",
    "චෞ": "fp!",
    "චං": "px",
    "ජ ": "c ",
    "ජා": "cd",
    "ජැ": "ce",
    "ජෑ": "cE",
    "ජි": "ð",
    "ජී": "Ô",
    "ජු": "cq",
    "ජූ": "cQ",
    "ජෘ": "cD",
    "ජෲ": "cDD",
    "ජෙ": "fc",
    "ජේ": "f–",
    "ජො": "fcd",
    "ජෝ": "fcda",
    "ජෛ": "ffc",
    "ජෞ": "fc!",
    "ජං": "cx",
    "ට ": "g ",
    "ටා": "gd",
    "ටැ": "ge",
    "ටෑ": "gE",
    "ටි": "á",
    "ටී": "à",
    "ටු": "gq",
    "ටූ": "gQ",
    "ටෘ": "gD",
    "ටෲ": "gDD",
    "ටෙ": "fg",
    "ටේ": "fÜ",
    "ටො": "fgd",
    "ටෝ": "fgda",
    "ටෛ": "ffg",
    "ටෞ": "fg!",
    "ටං": "gx",
    "ඩ ": "v ",
    "ඩා": "vd",
    "ඩැ": "ve",
    "ඩෑ": "vE",
    "ඩි": "ä",
    "ඩී": "ã",
    "ඩු": "vq",
    "ඩූ": "vQ",
    "ඩෘ": "vD",
    "ඩෲ": "vDD",
    "ඩෙ": "fv",
    "ඩේ": "fâ",
    "ඩො": "fvd",
    "ඩෝ": "fvda",
    "ඩෛ": "ffv",
    "ඩෞ": "fv!",
    "ඩං": "vx",
    "ත ": "; ",
    "තා": ";d",
    "තැ": ";e",
    "තෑ": ";E",
    "ති": ";s",
    "තී": ";S",
    "තු": ";=",
    "තූ": ";+",
    "තෘ": ";D",
    "තෲ": ";DD",
    "තෙ": "f;",
    "තේ": "f;a",
    "තො": "f;d",
    "තෝ": "f;da",
    "තෛ": "ff;",
    "තෞ": "f;!",
    "තං": ";x",
    "ද ": "o ",
    "දා": "od",
    "දැ": "oe",
    "දෑ": "OE",
    "දි": "È",
    "දී": "§",
    "දු": "ÿ",
    "දූ": "¥",
    "දෘ": "oD",
    "දෲ": "oDD",
    "දෙ": "fo",
    "දේ": "foa",
    "දො": "fod",
    "දෝ": "foda",
    "දෛ": "ffo",
    "දෞ": "fo!",
    "දං": "ox",
    "ප ": "m ",
    "පා": "md",
    "පැ": "me",
    "පෑ": "mE",
    "පි": "ms",
    "පී": "mS",
    "පු": "mq",
    "පූ": "mQ",
    "පෘ": "mD",
    "පෲ": "mDD",
    "පෙ": "fm",
    "පේ": "fma",
    "පො": "fmd",
    "පෝ": "fmda",
    "පෛ": "ffm",
    "පෞ": "fm!",
    "පං": "mx",
    "බ ": "n ",
    "බා": "nd",
    "බැ": "ne",
    "බෑ": "nE",
    "බි": "ì",
    "බී": "î",
    "බු": "nq",
    "බූ": "nQ",
    "බෘ": "nD",
    "බෲ": "nDD",
    "බෙ": "fn",
    "බේ": "fí",
    "බො": "fnd",
    "බෝ": "fnda",
    "බෛ": "ffn",
    "බෞ": "fn!",
    "බං": "nx",
    "ම ": "u ",
    "මා": "ud",
    "මැ": "ue",
    "මෑ": "uE",
    "මි": "ñ",
    "මී": "ó",
    "මු": "uq",
    "මූ": "uQ",
    "මෘ": "uD",
    "මෲ": "uDD",
    "මෙ": "fu",
    "මේ": "fï",
    "මො": "fud",
    "මෝ": "fuda",
    "මෛ": "ffu",
    "මෞ": "fu!",
    "මං": "ux",
    "ය ": "h ",
    "යා": "hd",
    "යැ": "he",
    "යෑ": "hE",
    "යි": "hs",
    "යී": "hS",
    "යු": "hq",
    "යූ": "hQ",
    "යෘ": "hD",
    "යෲ": "hDD",
    "යෙ": "fh",
    "යේ": "fha",
    "යො": "fhd",
    "යෝ": "fhda",
    "යෛ": "ffh",
    "යෞ": "fh!",
    "යං": "hx",
    "ර ": "r ",
    "රා": "rd",
    "රැ": "/",
    "රෑ": "?",
    "රි": "ß",
    "රී": "Í",
    "රු": "re",
    "රූ": "rE",
    "රෘ": "rD",
    "රෲ": "rDD",
    "රෙ": "fr",
    "රේ": "f¾",
    "රො": "frd",
    "රෝ": "frda",
    "රෛ": "ffr",
    "රෞ": "fr!",
    "රං": "rx",
    "ල ": ", ",
    "ලා": ",d",
    "ලැ": ",e",
    "ලෑ": ",E",
    "ලි": ",s",
    "ලී": ",S",
    "ලු": "¨",
    "ලූ": "Æ",
    "ලෘ": ",D",
    "ලෲ": ",DD",
    "ලෙ": "f,",
    "ලේ": "f,a",
    "ලො": "f,d",
    "ලෝ": "f,da",
    "ලෛ": "ff,",
    "ලෞ": "f,!",
    "ලං": ",x",
    "ව ": "j ",
    "වා": "jd",
    "වැ": "je",
    "වෑ": "jE",
    "වි": "ú",
    "වී": "ù",
    "වු": "jq",
    "වූ": "jQ",
    "වෘ": "jD",
    "වෲ": "jDD",
    "වෙ": "fj",
    "වේ": "fõ",
    "වො": "fjd",
    "වෝ": "fjda",
    "වෛ": "ffj",
    "වෞ": "fj!",
    "වං": "jx",
    "ස ": "i ",
    "සා": "id",
    "සැ": "ie",
    "සෑ": "iE",
    "සි": "is",
    "සී": "iS",
    "සු": "iq",
    "සූ": "iQ",
    "සෘ": "iD",
    "සෲ": "iDD",
    "සෙ": "fi",
    "සේ": "fia",
    "සො": "fid",
    "සෝ": "fida",
    "සෛ": "ffi",
    "සෞ": "fi!",
    "සං": "ix",
    "හ ": "y ",
    "හා": "yd",
    "හැ": "ye",
    "හෑ": "yE",
    "හි": "ys",
    "හී": "yS",
    "හු": "yq",
    "හූ": "yQ",
    "හෘ": "yD",
    "හෲ": "yDD",
    "හෙ": "fy",
    "හේ": "fya",
    "හො": "fyd",
    "හෝ": "fyda",
    "හෛ": "ffy",
    "හෞ": "fy!",
    "හං": "yx",
    "ෆ ": "* ",
    "ෆා": "*d",
    "ෆැ": "*e",
    "ෆෑ": "*E",
    "ෆි": "*s",
    "ෆී": "*S",
    "ෆු": "*q",
    "ෆූ": "*Q",
    "ෆෘ": "*D",
    "ෆෲ": "*DD",
    "ෆෙ": "f*",
    "ෆො": "f*d",
    "ෆෝ": "f*da",
    "ෆෛ": "*ෛ",
    "ෆෞ": "f*!",
    "ෆං": "*x",

    "ත්‍ර": ";%",
    "ත්‍රා": ";%d",
    "ත්‍රෙ": "f;%",
    "ත්‍රේ": "f;a%",
    "ත්‍රො": "f;%d",
    "ත්‍රෝ": "f;%da",
    "බ්‍ර": "n%",
    "බ්‍රා": "n%d",
    "බ්‍රැ": "n%e",
    "බ්‍රෑ": "n%E",
    "ග්‍ර": ".%",
    "ග්‍රා": ".%d",
    "ග්‍රැ": ".%e",
    "ජ්‍ර": "c%",
    "ජ්‍රා": "c%d",
    "ඣ්‍ය": "COH",
    "ඣ්‍යා": "COHd",
    "ඤ්‍ය": "[H",
    "ඤ්‍යා": "[Hd",
    "ඥ්‍ය": "{H",
    "ඥ්‍යා": "{Hd",
    "ඳ්‍ය": "|H",
    "ඳ්‍යා": "|Hd",
    "ද්‍ර": "o%",
    "ද්‍රා": "o%d",
    "ද්‍රැ": "o%e",
    "ද්‍රෑ": "o%E",
    "ස්‍ක": "ia‍l",
    "ස්‍කා": "ia‍ld",
    "ස්‍කි": "ia‍ls",
    "ස්‍කු": "ia‍l=",
    "ක්‍ෂා": "la‍Id",
    "ක්‍ෂැ": "la‍Ie",
    "ක්‍ෂෑ": "la‍IE",
    "ක්‍ෂි": "la‍Is",
    "ක්‍ෂී": "la‍IS",
    "ක්‍ෂු": "la‍Iq",
    "ක්‍ෂූ": "la‍IQ",
    "ක්‍ෂෘ": "la‍ID",
    "ක්‍ෂෲ": "la‍IDD",
    "ක්‍ෂෙ": "la‍fI",
    "ක්‍ෂේ": "la‍fIa",
    "ක්‍ෂො": "la‍fId",
    "ක්‍ෂෝ": "la‍fIda",
    "ක්‍ෂෛ": "la‍Iෛ",
    "ක්‍ෂෞ": "la‍fI!",
    "ක්‍ෂං": "la‍Ix",
    "ක්‍ෂඃ": "la‍I#",
    "ඤු": "™",
    "ඤා": "[d",
    "ඤො": "f[d",
    "ඤැ": "[e",
    "ඥා": "{d",
    "ඥො": "f{d",
    "ඥැ": "{e",
    "ක්‍ර": "l%",
    "ක්‍රා": "l%d",
    "ක්‍රැ": "l%e",
    "ක්‍රෑ": "l%E",
    "ක්‍රෟ": "l%!",
    "ක්‍රෳ": "l%ෳ",
    "ක්‍ර෴": "l%෴",
    "ඤැ": "[e",
    "ඥැ": "{e",
    "ක්‍ර": "l%",
    "ක්‍රා": "l%d",
    "ක්‍රැ": "l%e",
    "ශී": "YS",
    "ශ්‍රී": "Y%S",
    "ශ": "Y"



};

// sinhalaToFontMap is already defined in your code...  ?ß

function convertUnicodeToFont(input) {
    const splitter = new GraphemeSplitter();
    const graphemes = splitter.splitGraphemes(input);
    let result = '';

    for (let g of graphemes) {
        // Handle spaces manually if they're not getting mapped
        if (g === ' ') {
            result += ' ';  // Or whatever space handling you need
            continue;
        }

        // Try to map directly
        if (sinhalaToFontMap[g]) {
            result += sinhalaToFontMap[g];
        } else {
            // Optional: log unmapped characters
            console.warn(`Unmapped character: ${g} (${Array.from(g).map(c => c.charCodeAt(0).toString(16)).join(" ")})`);
            result += '?'; // Placeholder for unknown chars
        }
    }

    return result;
}
function splitSinhalaText(text) {
    const result = [];
    let i = 0;

    // List of known complex ligatures (you can expand this list)
    const complexLigatures = [
        "ක්‍රි", "ක්‍රී", "ක්‍රු", "ක්‍රූ", "ක්‍රෙ", "ක්‍රේ", "ක්‍රො", "ක්‍රෝ",
        "ග්‍රි", "ග්‍රී", "ග්‍රෙ", "ග්‍රේ", "ග්‍රො", "ග්‍රෝ",
        "ජ්‍රි", "ජ්‍රී", "ජ්‍රෙ", "ජ්‍රේ", "ජ්‍රො", "ජ්‍රෝ",
        "ත්‍රි", "ත්‍රී", "ත්‍රෙ", "ත්‍රේ", "ත්‍රො", "ත්‍රෝ",
        "බ්‍රි", "බ්‍රී", "බ්‍රෙ", "බ්‍රේ", "බ්‍රො", "බ්‍රෝ",
        "ම්‍රි", "ම්‍රී", "ම්‍රෙ", "ම්‍රේ", "ම්‍රො", "ම්‍රෝ",
        "ශ්‍රි", "ශ්‍රී", "ශ්‍රෙ", "ශ්‍රේ", "ශ්‍රො", "ශ්‍රෝ",
        "ෂ්‍රි", "ෂ්‍රී", "ෂ්‍රෙ", "ෂ්‍රේ", "ෂ්‍රො", "ෂ්‍රෝ",
        "ස්‍රි", "ස්‍රී", "ස්‍රෙ", "ස්‍රේ", "ස්‍රො", "ස්‍රෝ"
    ];

    while (i < text.length) {
        let found = false;

        // Try matching longest possible ligature first
        for (let j = 5; j >= 1; j--) { // Up to 5 characters long (e.g., ක්‍රි)
            if (i + j <= text.length) {
                const substr = text.slice(i, i + j);

                if (complexLigatures.includes(substr)) {
                    result.push(substr);
                    i += j;
                    found = true;
                    break;
                }
            }
        }

        if (!found) {
            // Fall back to checking common 2-letter combos
            if (i + 1 < text.length) {
                const combo = text[i] + text[i + 1];
                const knownCombos = {
                    'යා': true,
                    'යෙ': true,
                    'යේ': true,
                    'යෝ': true,
                    'යු': true,
                    'රා': true,
                    'රෙ': true,
                    'රේ': true,
                    'රෝ': true,
                    'ලු': true,
                    'හු': true,
                    'නු': true,
                    'ටු': true,
                    'බූ': true,
                    'මා': true,
                    'ගා': true,
                    'ටා': true,
                    'ඟා': true
                };

                if (knownCombos[combo]) {
                    result.push(combo);
                    i += 2;
                    continue;
                }
            }

            // Default: push single character
            result.push(text[i]);
            i++;
        }
    }

    return result;
}
// Exported function to use in HTML
window.getSinhalaBreakdownAndLegacy = function (text) {
    const splitter = new GraphemeSplitter();
    const chars = splitter.splitGraphemes(text); // Accurate splitting
    const breakdown = chars.join(""); // Just for logging/debugging
    const legacyString = chars.map(c => convertUnicodeToFont(c)).join("");
    return { breakdown, legacyString };
};